{"version":3,"file":"react-hooks.cjs.js","sources":["../src/useShallowEqualSelector.js","../src/useActions.js","../src/useInput.js","../src/useFetch.js","../src/useDidMount.js","../src/useDidUpdate.js","../src/useWillMount.js","../src/useWillUnmount.js","../src/useFuse.js","../src/useModal.js","../src/useScript.js","../src/useSetState.js","../src/useCopyClipboard.js","../src/usePrevious.js","../src/useTimeout.js","../src/useDebounce.js","../src/useUpdateEffect.js"],"sourcesContent":["import { useSelector, shallowEqual } from 'react-redux'\r\n\r\nfunction useShallowEqualSelector(selector) {\r\n    return useSelector(selector, shallowEqual)\r\n}\r\n\r\nexport default useShallowEqualSelector","import { bindActionCreators } from 'redux'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useMemo } from 'react'\r\n\r\nfunction useActions(actions, deps) {\r\n    const dispatch = useDispatch()\r\n    return useMemo(() => {\r\n        if (Array.isArray(actions)) {\r\n            return actions.map(a => bindActionCreators(a, dispatch))\r\n        }\r\n        return bindActionCreators(actions, dispatch)\r\n    }, deps ? [dispatch, ...deps] : [dispatch])\r\n}\r\n\r\nexport default useActions","import { useState, useCallback, useMemo } from 'react'\r\nimport { isFunction, isNumber } from 'lodash-es'\r\n\r\nconst defaultOptions = {};\r\n\r\nfunction useInput(initialValue = '', opts = defaultOptions) {\r\n    const [value, setValue] = useState(initialValue)\r\n\r\n    const onChange = useCallback(e => {\r\n        const newValue = e.target.value\r\n        let shouldUpdate = true\r\n        if (isFunction(opts.validate)){\r\n            shouldUpdate = opts.validate(newValue, value)\r\n        }\r\n\r\n        if(shouldUpdate){\r\n            setValue(newValue)\r\n        }\r\n    }, []);\r\n\r\n\r\n    return Object.assign([\r\n        value, onChange\r\n    ], {\r\n        value,\r\n        hasValue: value !== undefined && value !== null && (!isNumber(value) ? value.trim && value.trim() !== \"\" : true),\r\n        onChange,\r\n        setValue,\r\n        clear: useCallback(() => setValue(''), []),\r\n        bind: {\r\n            onChange,\r\n            value\r\n        }\r\n    })\r\n}\r\n\r\nexport default useInput","import { useEffect, useReducer, useState } from 'react'\r\nimport { isString, assign } from 'lodash-es'\r\nimport { useImmerReducer } from 'use-immer'\r\nimport axios, {CancelToken} from 'axios';\r\nimport { createAction } from \"redux-starter-kit\"\r\n\r\nconst fetchInit = createAction('FETCH_INIT'),\r\n    fetchSuccess = createAction('FETCH_SUCCESS'),\r\n    fetchFailure = createAction('FETCH_FAILURE')\r\n\r\nconst initialState = {\r\n    isLoading: false,\r\n    data: null,\r\n    error: null,\r\n};\r\n\r\nfunction reducer(state, {type, payload}) {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            state = assign({}, initialState, {isLoading: true})\r\n            break\r\n        case 'FETCH_SUCCESS':\r\n            state = assign(state, {isLoading: false, data: payload})\r\n            break\r\n        case 'FETCH_FAILURE':\r\n            state = assign(state, {isLoading: false, error: payload})\r\n            break\r\n        case 'RESET':\r\n            state.data = null\r\n            break\r\n        default:\r\n            throw new Error()\r\n    }\r\n}\r\n\r\nasync function fetchData({onSuccess, ...config}, dispatch) {\r\n    try {\r\n        dispatch(fetchInit());\r\n        const {data} = await axios(config)\r\n        dispatch(fetchSuccess(data));\r\n        if (onSuccess) onSuccess(data)\r\n    } catch (err) {\r\n        dispatch(fetchFailure(err));\r\n    }\r\n}\r\n\r\n// function useFetch(config) {\r\n//     if (isString(config)) {\r\n//         config = {\r\n//             url: config\r\n//         }\r\n//     }\r\n//\r\n//     const [state, dispatch] = useImmerReducer(reducer, initialState)\r\n//\r\n//     useLayoutEffect(() => {\r\n//         let didCancel = false;\r\n//         fetchData({...config, didCancel}, dispatch)\r\n//         return () => {\r\n//             dispatch({type: 'RESET'})\r\n//             didCancel = true\r\n//         }\r\n//     }, [JSON.stringify(config)])\r\n//\r\n//     const reset = () => dispatch({type: 'RESET'})\r\n//\r\n//     return  [\r\n//         state,\r\n//         reset\r\n//     ]\r\n// }\r\nconst dataFetchReducer = (state, {type, payload}) => {\r\n    switch (type) {\r\n        case 'FETCH_INIT':\r\n            return {\r\n                data: null,\r\n                isLoading: true,\r\n                isError: false\r\n            };\r\n        case 'FETCH_SUCCESS':\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isError: false,\r\n                data: payload,\r\n            };\r\n        case 'FETCH_FAILURE':\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                isError: true,\r\n            };\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\n\r\n\r\nfunction useFetch(config) {\r\n    if (isString(config)) {\r\n        config = {\r\n            url: config\r\n        }\r\n    }\r\n    const {customHandler, trigger, ...conf} = config\r\n    const [innerTrigger, setInnerTrigger] = useState(0);\r\n    const [state, dispatch] = useReducer(dataFetchReducer, initialState);\r\n\r\n    let outerTrigger;\r\n    try {\r\n        outerTrigger = JSON.stringify({...trigger, url: conf.url});\r\n    } catch (err) {\r\n        //\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (!conf.url) return;\r\n\r\n        const source = CancelToken.source();\r\n        fetchData({...conf, cancelToken: source.token}, dispatch)\r\n        return () => {\r\n            source.cancel();\r\n        }\r\n    }, [outerTrigger, innerTrigger])\r\n\r\n    return {\r\n        ...state,\r\n        isShown: !state.isLoading && state.data,\r\n        refresh: () => {\r\n            setInnerTrigger(+new Date());\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default useFetch","import { useEffect } from 'react'\r\n\r\nexport default function useDidMount(f){\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => typeof f === \"function\" && f(), [])\r\n}","import { useEffect, useRef } from 'react'\r\n\r\nexport default function useDidUpdate(f, conditions){\r\n    const didMoutRef = useRef(false)\r\n    useEffect(() => {\r\n        if (!didMoutRef.current) {\r\n            didMoutRef.current = true\r\n            return\r\n        }\r\n\r\n        // Cleanup effects when f returns a function\r\n        return f && f()\r\n    }, conditions)\r\n}","import { useState } from 'react'\r\nimport useDidMount from './useDidMount'\r\n\r\nexport default function useWillMount(f){\r\n    const [willMount, setWillMount] = useState(true);\r\n    useDidMount(() => setWillMount(false));\r\n    typeof f === \"function\" && willMount && f()\r\n}","import { useEffect } from 'react'\r\n\r\nexport default function useWillUnmount(f){\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    useEffect(() => () => typeof f === \"function\" && f(), [])\r\n}","// https://blog.logrocket.com/practical-react-hooks-how-to-refactor-your-app-to-use-hooks-b1867e7b0a53/\r\nimport { useCallback, useState, useEffect, useMemo, useRef } from 'react'\r\nimport { useDidUpdate, usePrevious } from './index'\r\nimport Fuse from 'fuse.js'\r\nimport { isEqual } from 'lodash-es'\r\n\r\nfunction useFuse(text, documents, options = {}) {\r\n    const [data, setData] = useState(documents)\r\n    const [value, setValue] = useState(text)\r\n    const prev = usePrevious({text, documents})\r\n\r\n    const onChange = useCallback(e => setValue(e.target.value.trim()), []);\r\n    const prevName = useRef;\r\n\r\n    useEffect(() => {\r\n        if(!prev) return\r\n\r\n        if(!isEqual(prev.text, text)){\r\n            setValue(text)\r\n        }\r\n\r\n        if(!isEqual(prev.documents, documents)){\r\n            setData(documents)\r\n        }\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (value.length > 0) {\r\n            const fuse = new Fuse(data, options)\r\n            setData(fuse.search(value))\r\n        } else {\r\n            setData(documents)\r\n        }\r\n    }, [value])\r\n\r\n    return Object.assign([\r\n        value,\r\n        data,\r\n        onChange,\r\n    ], {\r\n        input: value,\r\n        filtered: data,\r\n        onChange,\r\n        bind: {onChange, value}\r\n    })\r\n}\r\n\r\nexport default useFuse","import React, { useState, createElement, createContext, useEffect, useContext, useMemo, useCallback } from 'react'\r\nimport { useImmer } from 'use-immer'\r\nimport { map } from 'lodash-es'\r\nimport { useWillUnmount } from './index'\r\n\r\nexport const ModalContext = createContext()\r\n\r\nexport const ModalProvider = ({children}) => {\r\n    const [modals, setModals] = useImmer({});\r\n    let timeoutHack\r\n\r\n    const onShow = useCallback((key, component, data) => {\r\n\r\n        setModals(state => {\r\n            state[key] = {isOpen: true, isVisible: true, component, data}\r\n        })\r\n    }, [modals, setModals])\r\n\r\n    const onHide = useCallback((key, onClose) => {\r\n        timeoutHack = setTimeout(() => {\r\n            setModals(state => {delete state[key]})\r\n            clearTimeout(timeoutHack);\r\n        }, 500);\r\n\r\n        setModals(state => {state[key].isOpen = false})\r\n\r\n        if (onClose) onClose()\r\n    }, [modals, setModals])\r\n\r\n    const contextValue = useMemo(() => ({onShow, onHide}), [onShow, onHide])\r\n\r\n    return (\r\n        <ModalContext.Provider value={contextValue}>\r\n            {children}\r\n            {map(modals, ({component, isOpen, data}, key) =>\r\n                component &&\r\n                createElement(component, {\r\n                    key: key,\r\n                    isOpen: isOpen,\r\n                    onClose: () => onHide(key),\r\n                    ...data,\r\n                })\r\n            )}\r\n        </ModalContext.Provider>\r\n    )\r\n}\r\n\r\nconst generateModalKey = (() => {\r\n    let count = 0;\r\n    return () => `${++count}`;\r\n})();\r\n\r\n\r\nfunction useModal(component, inputs = {}, onClose) {\r\n    const key = useMemo(generateModalKey, []);\r\n    const context = useContext(ModalContext);\r\n    const modal = useMemo(() => component, []);\r\n\r\n    const onShow = useCallback((modalData) => {\r\n        context.onShow(key, modal, (modalData && modalData.nativeEvent instanceof Event) ? inputs : {...inputs, ...modalData})\r\n    }, [context, inputs])\r\n\r\n    const onHide = useCallback(() => context.onHide(key, onClose), [context])\r\n\r\n    return Object.assign([\r\n        onShow,\r\n        onHide\r\n    ], {})\r\n}\r\n\r\n\r\nexport default useModal\r\n\r\n","import { useEffect, useState } from 'react'\r\nimport { map } from 'lodash-es'\r\n\r\n/**\r\n * Hook to load an external script. Returns true once the script has finished loading.\r\n *\r\n * @param {string} url The external script to load\r\n * @return boolean True if the script has been loaded\r\n * */\r\n\r\nexport default function useScript({src, ...rest}) {\r\n    const [ready, setReady] = useState(false)\r\n\r\n    useEffect(() => {\r\n        function onLoad() {\r\n            // The ready event is fired whenever the resource is loaded, but it doesn't know if it was successful\r\n            setReady(true)\r\n        }\r\n\r\n        function onError() {\r\n            // The ready event is fired whenever the resource is loaded, but it doesn't know if it was successful\r\n            setReady(false)\r\n        }\r\n\r\n        let script = document.querySelector(\r\n            `script[src=\"${src}\"]`,\r\n        )\r\n\r\n        if (!script) {\r\n            script = document.createElement('script')\r\n            script.src = src\r\n            script.async = true\r\n            // Add script to document body\r\n            document.body.appendChild(script)\r\n\r\n            script.onerror = () => {\r\n                if (script) script.setAttribute('data-failed', 'true')\r\n            }\r\n            script.onload = () => {\r\n                if (script) script.setAttribute('data-loaded', 'true')\r\n            }\r\n\r\n            map(rest, (v, k) => {\r\n                script.setAttribute(k, v)\r\n            })\r\n\r\n            // $(script).attr(rest)\r\n        } else {\r\n            if (script.getAttribute('data-loaded') === 'true') {\r\n                setReady(true)\r\n                // Already loaded, so we can return early\r\n                return () => {}\r\n            }\r\n        }\r\n\r\n        // Add load event listener\r\n        script.addEventListener('load', onLoad)\r\n        script.addEventListener('error', onError)\r\n\r\n        return () => {\r\n            if (script) {\r\n                script.removeEventListener('load', onLoad)\r\n                script.removeEventListener('error', onError)\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [src])\r\n\r\n    return ready\r\n}","import { useCallback, useMemo } from 'react'\r\nimport { useImmer } from \"use-immer\"\r\nimport { isFunction } from 'lodash-es'\r\n\r\nfunction useSetState(initialState = {}) {\r\n    const [state, set] = useImmer(initialState);\r\n    const setState = useCallback(path => {\r\n        isFunction(path) ? set(path) : set(draft => {\r\n            draft = Object.assign({}, state, path)\r\n        })\r\n    }, [])\r\n\r\n    return [state, setState];\r\n}\r\n\r\nexport default useSetState","import { useState, useCallback } from 'react'\r\nimport { isString } from 'lodash-es'\r\nimport copy from 'copy-to-clipboard'\r\n\r\nfunction useCopyClipboard(config) {\r\n    const [isCopied, setIsCopied] = useState(false);\r\n\r\n    if (isString(config)) {\r\n        config = {\r\n            text: config\r\n        }\r\n    }\r\n\r\n    const {text, options, onCopy} = config\r\n\r\n    const onClick = useCallback(() => {\r\n        const result = copy(text, options);\r\n        setIsCopied(result)\r\n\r\n        if (onCopy) onCopy(text, result);\r\n    }, [config.text])\r\n\r\n    return [\r\n        isCopied,\r\n        onClick\r\n    ]\r\n}\r\n\r\nexport default useCopyClipboard","import {useEffect, useRef} from 'react';\n\nfunction usePrevious(value)\n{\n    // The ref object is a generic container whose current property is mutable ...\n    // ... and can hold any value, similar to an instance property on a class\n    const ref = useRef();\n\n    // Store current value in ref\n    useEffect(() => {\n        ref.current = value;\n    }, [value]); // Only re-run if value changes\n\n    // Return previous value (happens before update in useEffect above)\n    return ref.current;\n}\n\nexport default usePrevious;\n","import {useEffect, useRef} from 'react'\n\nfunction useTimeout(callback, delay)\n{\n    const callbackRef = useRef(callback);\n\n    useEffect(() => {\n        callbackRef.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        if ( delay && callback && typeof callback === 'function' )\n        {\n            let timer = setTimeout(callbackRef.current, delay || 0);\n            return () => {\n                if ( timer )\n                {\n                    clearTimeout(timer);\n                }\n            };\n        }\n    }, [callback, delay]);\n}\n\nexport default useTimeout;\n","import { useRef } from 'react';\nimport { debounce } from 'lodash-es';\n\nfunction useDebounce(func, wait, options) {\n    return useRef(debounce(func, wait, options)).current;\n}\n\nexport default useDebounce;\n","import {useEffect, useRef} from 'react';\n\nconst useUpdateEffect: typeof useEffect = (effect, deps) => {\n    const isInitialMount = useRef(true);\n\n    useEffect(isInitialMount.current ? () => {\n        isInitialMount.current = false;\n    } : effect, deps);\n};\n\nexport default useUpdateEffect;\n"],"names":["useShallowEqualSelector","selector","useSelector","shallowEqual","useActions","actions","deps","dispatch","useDispatch","useMemo","Array","isArray","map","a","bindActionCreators","defaultOptions","useInput","initialValue","opts","useState","value","setValue","onChange","useCallback","e","newValue","target","shouldUpdate","isFunction","validate","Object","assign","hasValue","undefined","isNumber","trim","clear","bind","fetchInit","createAction","fetchSuccess","fetchFailure","initialState","isLoading","data","error","fetchData","onSuccess","config","axios","dataFetchReducer","state","type","payload","isError","Error","useFetch","isString","url","customHandler","trigger","conf","innerTrigger","setInnerTrigger","useReducer","outerTrigger","JSON","stringify","err","useEffect","source","CancelToken","cancelToken","token","cancel","isShown","refresh","Date","useDidMount","f","useDidUpdate","conditions","didMoutRef","useRef","current","useWillMount","willMount","setWillMount","useWillUnmount","useFuse","text","documents","options","setData","prev","usePrevious","isEqual","length","fuse","Fuse","search","input","filtered","ModalContext","createContext","ModalProvider","children","useImmer","modals","setModals","timeoutHack","onShow","key","component","isOpen","isVisible","onHide","onClose","setTimeout","clearTimeout","contextValue","React","createElement","generateModalKey","count","useModal","inputs","context","useContext","modal","modalData","nativeEvent","Event","useScript","src","rest","ready","setReady","onLoad","onError","script","document","querySelector","async","body","appendChild","onerror","setAttribute","onload","v","k","getAttribute","addEventListener","removeEventListener","useSetState","set","setState","path","draft","useCopyClipboard","isCopied","setIsCopied","onCopy","onClick","result","copy","ref","useTimeout","callback","delay","callbackRef","timer","useDebounce","func","wait","debounce","useUpdateEffect","effect","isInitialMount"],"mappings":"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"}